# services/habit_create_service.py

from repositories.habit_repository import insert_habit

# =====================================================
# üîπ –°–µ—Ä–≤–∏—Å: –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –ø—Ä–∏–≤—ã—á–∫–∏
#     –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç FSM/handler –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
#     - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
#     - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –Ω–∞–ø—Ä—è–º—É—é
#     - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telegram-–æ–±—ä–µ–∫—Ç—ã
# ====================================================
async def create_custom_habit(user_id: int, data: dict):
    """
    –°–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ø—Ä–∏–≤—ã—á–∫—É.
    
    –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
        user_id (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
        data (dict): –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ FSM
            {
                "name": str,
                "description": str,
                "days": int,
                "difficulty": int
            }

    –õ–æ–≥–∏–∫–∞:
        - —Å–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —Ö–µ–Ω–¥–ª–µ—Ä–∞
        - –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É
        - –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Telegram –∫–æ–¥–∞
        - –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç SQL
    """

    # insert_habit –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ‚Äî return —Ç—É—Ç –Ω–µ –Ω—É–∂–µ–Ω
    await insert_habit(
        user_id=user_id,
        name=data["name"],
        desc=data["description"],
        days=data["days"],
        diff=data["difficulty"],
    )
